var images = [
    {
        src: "Fumos/853.jpg",
        label: "Sakuya Izayoi Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/897.jpg",
        label: "Reimu Hakurei Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/898.jpg",
        label: "Marisa Kirisame Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/851.jpg",
        label: "Remilia Scarlet Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/492.jpg",
        label: "Patchiouli Knowledge Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/007.jpg",
        label: "Alice Margatroid Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/008.jpg",
        label: "Flandre Scarlet Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/013.jpg",
        label: "Sanae Kochiya Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/014.jpg",
        label: "Cirno Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/015.jpg",
        label: "Suwako Moriya Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/039.jpg",
        label: "Youmu Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/040.jpg",
        label: "Yuyuko Saigyouji Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/056.jpg",
        label: "Hong Mei Ling Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/080.jpg",
        label: "Chen Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/081.jpg",
        label: "Ran Yakumo Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/082.jpg",
        label: "Yukari Yakumo Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/138.jpg",
        label: "Kaguya Houraisan Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/139.jpg",
        label: "Mokou No Fujiwara Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/820.jpg",
        label: "Satori Komeji Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/821.jpg",
        label: "Koishi Komeji Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/236.jpg",
        label: "Reisen Udongein Inaba Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/237.jpg",
        label: "Tewi Inaba Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/310.jpg",
        label: "Hata no Kokoro Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/454.jpg",
        label: "Kasen Ibaraki Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/493.jpg",
        label: "Aya Shameimaru Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/494.jpg",
        label: "Hatate Himekaidou Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/593.jpg",
        label: "Tenshi Hinanawi Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/644.jpg",
        label: "Shion Yorigami Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/685.jpg",
        label: "Yuuka Kazami Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/773.jpg",
        label: "Momiji Inubashiri Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/807.jpg",
        label: "Eirin Yagokoro Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/834.jpg",
        label: "Rumia Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/835.jpg",
        label: "Shiki Eiki Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/836.jpg",
        label: "Nitori Kawashiro Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/837.jpg",
        label: "Joon Yorigami Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/899.jpg",
        label: "Renko Usami Fumo",
        genre: "Touhou",
    },

    {
        src: "Fumos/900.jpg",
        label: "Toyosatomimi no Miko Fumo",
        genre: "Touhou",
    },

    {
        src: "https://img.amiami.com/images/product/review/102/CGD-9080_02.jpg",
        label: "Hatsune Miku Fumo",
        genre: "Vocaloid",
    },

    {
        src: "https://images.goodsmile.info/cgm/images/product/20091113/2734/8330/large/9ef093466ba8939b65538515a9ddf80a.jpg",
        label: "Kagamine Rin Fumo",
        genre: "Vocaloid",
    },

    {
        src: "https://cdn.shopify.com/s/files/1/0318/2649/products/5187eo0KDOL_3000x.jpg?v=1571439817",
        label: "Kagamine Len Fumo",
        genre: "Vocaloid",
    },

    {
        src: "https://cdn.shopify.com/s/files/1/0318/2649/products/51JpRZWqqLL_3000x.jpg?v=1571439824",
        label: "Megurine Luka Fumo",
        genre: "Vocaloid",
    },

    {
        src: "https://images.goodsmile.info/cgm/images/product/20091023/2699/8023/large/aae63da1521b660cc05a746ad3b5559c.jpg",
        label: "Kaito Fumo",
        genre: "Vocaloid",
    },

    /*
    {
        src: "https://pbs.twimg.com/tweet_video_thumb/Fm8WTxQXgAA0Vsk.jpg",
        label: "Test",
        genre: "Test",
    },

    {
        src: "https://pbs.twimg.com/tweet_video_thumb/Fm8WTxQXgAA0Vsk.jpg",
        label: "Test",
        genre: "Test",
    },
    */

    //that is for testing purposes . The image is just bocchi the rock art fumo
];

var previousIndex = -1;

function myFunction() {

    
    var checkboxes = document.getElementById("checkboxes").getElementsByTagName("input");

    var selectedGenres = [];
        for (var i = 0; i < checkboxes.length; i++) {
            if (checkboxes[i].checked) {
                selectedGenres.push(checkboxes[i].id);
            }
        }    
    
    var filteredImages = images.filter(function(image) {
        return selectedGenres.includes(image.genre);
    });

    var randomIndex = Math.floor(Math.random() * filteredImages.length);
            while (randomIndex === previousIndex) {
                randomIndex = Math.floor(Math.random() * filteredImages.length);
            }
            previousIndex = randomIndex;
    
    var randomImage = filteredImages[randomIndex];

    var outputDiv = document.getElementById("output");
    
    outputDiv.innerHTML = "";

    var img = document.createElement("img");
    img.setAttribute("id", "Fumo");
    img.src = randomImage.src;

    //declare the name of the fumo with the id="Name"
    var label = document.createElement("p");
    label.setAttribute("id", "Name");
    label.innerHTML = randomImage.label;

    //declare the genre of the fumo with id="Genre"
    var genre = document.createElement("p");
    genre.setAttribute("id", "Genre");
    genre.innerHTML = randomImage.genre;

    //output for image , name , genre and bio
    outputDiv.appendChild(img);
    outputDiv.appendChild(label);
    outputDiv.appendChild(genre);
}
